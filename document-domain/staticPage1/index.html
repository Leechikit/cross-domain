<!DOCTYPE html>
<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <meta content="" name="keywords">
    <meta content="" name="description">
    <title>staticPage1</title>
</head>

<body>
    <p>this is page1</p>
    <p>设置Host:<br/>
    127.0.0.1 test.com<br/>
    127.0.0.1 a.test.com
    </p>
    <p id="data">page1 data</p>
    <iframe src="http://b.test.com:3002/index.html" id="page1" onload="getData()"></iframe>
    <script>
        document.domain = 'test.com';
        window.data = 'some data from page1';
        function getData(){
            var page2Win = document.getElementById('page1').contentWindow;
            var pEl = document.getElementById('data');
           page2Win.data && (pEl.innerHTML = page2Win.data)
        }
    </script>
</body>

</html>